{"ast":null,"code":"import sendgrid from '@sendgrid/mail';\nsendgrid.setApiKey(process.env.SENDGRID_API_KEY);\nexport default async function handler(req, res) {\n  const {\n    name,\n    email,\n    message\n  } = req.body;\n\n  try {\n    await sendgrid.send({\n      to: 'cesarcorregiari@gmail.com',\n      from: email,\n      subject: `Nova mensagem de ${name}`,\n      text: message // html: `<p>Assunto: ${subjectMatter}</p>\n      // <p>${textArea}</p>`,\n\n    });\n    return res.status(200).json({\n      msg: 'Message sent successfully.'\n    });\n  } catch (error) {\n    return res.status(error.statusCode || 500).json({\n      error: error.message\n    });\n  }\n}","map":{"version":3,"sources":["/home/cesar/Code/portfoliocesar/src/pages/api/mail.js"],"names":["sendgrid","setApiKey","process","env","SENDGRID_API_KEY","handler","req","res","name","email","message","body","send","to","from","subject","text","status","json","msg","error","statusCode"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,gBAArB;AAEAA,QAAQ,CAACC,SAAT,CAAmBC,OAAO,CAACC,GAAR,CAAYC,gBAA/B;AAEA,eAAe,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC9C,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA;AAAf,MAA2BJ,GAAG,CAACK,IAArC;;AAEA,MAAI;AACF,UAAMX,QAAQ,CAACY,IAAT,CAAc;AAClBC,MAAAA,EAAE,EAAE,2BADc;AAElBC,MAAAA,IAAI,EAAEL,KAFY;AAGlBM,MAAAA,OAAO,EAAG,oBAAmBP,IAAK,EAHhB;AAIlBQ,MAAAA,IAAI,EAAEN,OAJY,CAKlB;AACA;;AANkB,KAAd,CAAN;AASA,WAAOH,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,GAAG,EAAE;AAAP,KAArB,CAAP;AACD,GAXD,CAWE,OAAOC,KAAP,EAAc;AACd,WAAOb,GAAG,CAACU,MAAJ,CAAWG,KAAK,CAACC,UAAN,IAAoB,GAA/B,EAAoCH,IAApC,CAAyC;AAAEE,MAAAA,KAAK,EAAEA,KAAK,CAACV;AAAf,KAAzC,CAAP;AACD;AACF","sourcesContent":["import sendgrid from '@sendgrid/mail';\n\nsendgrid.setApiKey(process.env.SENDGRID_API_KEY);\n\nexport default async function handler(req, res) {\n  const { name, email, message } = req.body;\n\n  try {\n    await sendgrid.send({\n      to: 'cesarcorregiari@gmail.com',\n      from: email,\n      subject: `Nova mensagem de ${name}`,\n      text: message,\n      // html: `<p>Assunto: ${subjectMatter}</p>\n      // <p>${textArea}</p>`,\n    });\n\n    return res.status(200).json({ msg: 'Message sent successfully.' });\n  } catch (error) {\n    return res.status(error.statusCode || 500).json({ error: error.message });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}